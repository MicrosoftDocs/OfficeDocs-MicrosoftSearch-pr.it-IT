---
title: Mapping delle identità non AAD
ms.author: monaray
author: monaray97
manager: jameslau
ms.audience: Admin
ms.topic: article
ms.service: mssearch
localization_priority: Normal
search.appverid:
- BFB160
- MET150
- MOE150
ROBOTS: NOINDEX, NOFOLLOW
description: passaggi su come eseguire il mapping delle identità non AAD
ms.openlocfilehash: be479cfd9dad585e83b5a39ff3ce4a84b9d41676
ms.sourcegitcommit: 77ec27736f3c8434b2ac47e10897ac2606ee8a03
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 11/11/2020
ms.locfileid: "48992899"
---
# <a name="map-your-non-azure-ad-identities"></a><span data-ttu-id="64f20-103">Mappare le identità di Active Directory non Azure AD</span><span class="sxs-lookup"><span data-stu-id="64f20-103">Map your non-Azure AD Identities</span></span>  

<span data-ttu-id="64f20-104">In questo articolo vengono illustrati i passaggi per la mappatura delle identità di Active Directory non Azure ad per le identità di Azure AD, in modo che gli utenti nell'elenco di controllo di accesso (ACL) con identità non di Azure AD possano visualizzare i risultati della ricerca del connettore a essi associati.</span><span class="sxs-lookup"><span data-stu-id="64f20-104">This article walks you through the steps of mapping your non-Azure AD identities to your Azure AD identities so that people in your Access Control List (ACL) with non-Azure AD identities can see connector search results scoped to them.</span></span>

<span data-ttu-id="64f20-105">Questi passaggi sono rilevanti solo per gli amministratori della ricerca che stanno configurando un connettore [ServiceNow](servicenow-connector.md) o [Salesforce](salesforce-connector.md) da Microsoft con le autorizzazioni di ricerca per "solo le persone con accesso a questa origine dati" e il tipo di identità "non AAD".</span><span class="sxs-lookup"><span data-stu-id="64f20-105">These steps are only relevant to search administrators who are setting up a [ServiceNow](servicenow-connector.md) or [Salesforce](salesforce-connector.md) connectors by Microsoft with search permissions for "Only people with access to this data source" and identity type "Non-AAD."</span></span>

>[!NOTE]
><span data-ttu-id="64f20-106">Se si sta configurando un connettore Salesforce e si selezionano **solo gli utenti con accesso a questa origine dati** e il tipo di identità **AAD** nella schermata autorizzazioni di ricerca, fare riferimento all'articolo [Map Your Azure ad Identities](map-aad.md) per i passaggi su come eseguire il mapping delle identità di Azure ad.</span><span class="sxs-lookup"><span data-stu-id="64f20-106">If you are setting up a Salesforce connector and select **Only people with access to this data source** and identity type **AAD** on the search permissions screen, refer to the [Map your Azure AD Identities](map-aad.md) article for steps on how to map Azure AD identities.</span></span>  

## <a name="steps-for-mapping-your-non-azure-ad-properties"></a><span data-ttu-id="64f20-107">Passaggi per il mapping delle proprietà di Active Directory non Azure</span><span class="sxs-lookup"><span data-stu-id="64f20-107">Steps for mapping your non-Azure AD properties</span></span>

### <a name="1-select-an-azure-ad-user-property"></a><span data-ttu-id="64f20-108">1. Selezionare una proprietà utente di Azure AD</span><span class="sxs-lookup"><span data-stu-id="64f20-108">1. Select an Azure AD user property</span></span>  

<span data-ttu-id="64f20-109">È possibile selezionare la proprietà utente di Azure AD per la quale si sta creando il mapping.</span><span class="sxs-lookup"><span data-stu-id="64f20-109">You can select the Azure AD user property you are creating the mapping for.</span></span> <span data-ttu-id="64f20-110">Si tratta della proprietà di destinazione a cui si desidera eseguire il mapping delle identità di Active Directory non Azure ad.</span><span class="sxs-lookup"><span data-stu-id="64f20-110">This is the target property you are aiming to map your non-Azure AD identities to.</span></span>  

<span data-ttu-id="64f20-111">È possibile selezionare una delle seguenti proprietà di Azure AD:</span><span class="sxs-lookup"><span data-stu-id="64f20-111">You can select one of the following Azure AD properties:</span></span>

| <span data-ttu-id="64f20-112">Azure AD, proprietà</span><span class="sxs-lookup"><span data-stu-id="64f20-112">Azure AD property</span></span>    | <span data-ttu-id="64f20-113">Definizione</span><span class="sxs-lookup"><span data-stu-id="64f20-113">Definition</span></span>           | <span data-ttu-id="64f20-114">Esempio</span><span class="sxs-lookup"><span data-stu-id="64f20-114">Example</span></span>         |
| :------------------- | :------------------- |:--------------- |
| <span data-ttu-id="64f20-115">Nome dell'entità utente (UPN)</span><span class="sxs-lookup"><span data-stu-id="64f20-115">User Principal Name (UPN)</span></span>  | <span data-ttu-id="64f20-116">Un UPN è costituito da un prefisso UPN (il nome dell'account utente) e da un suffisso UPN (un nome di dominio DNS).</span><span class="sxs-lookup"><span data-stu-id="64f20-116">A UPN consists of a UPN prefix (the user account name) and a UPN suffix (a DNS domain name).</span></span> <span data-ttu-id="64f20-117">Il prefisso viene aggiunto al suffisso utilizzando il simbolo "@".</span><span class="sxs-lookup"><span data-stu-id="64f20-117">The prefix is joined with the suffix using the "@" symbol.</span></span> | <span data-ttu-id="64f20-118">us1@contoso.onmicrosoft.com</span><span class="sxs-lookup"><span data-stu-id="64f20-118">us1@contoso.onmicrosoft.com</span></span> |
| <span data-ttu-id="64f20-119">ID di Azure AD</span><span class="sxs-lookup"><span data-stu-id="64f20-119">Azure AD ID</span></span>                 | <span data-ttu-id="64f20-120">Un ID di Azure AD per un utente specificato è il GUID univoco dell'utente.</span><span class="sxs-lookup"><span data-stu-id="64f20-120">An Azure AD ID for a given user is the unique GUID of the user.</span></span>                 | <span data-ttu-id="64f20-121">58006c96-9e6e-45ea-8c88-4a56851eefad</span><span class="sxs-lookup"><span data-stu-id="64f20-121">58006c96-9e6e-45ea-8c88-4a56851eefad</span></span>            |
| <span data-ttu-id="64f20-122">ID di sicurezza di Active Directory (SID)</span><span class="sxs-lookup"><span data-stu-id="64f20-122">Active Directory Security ID (SID)</span></span>                  | <span data-ttu-id="64f20-123">SID (identificatore di sicurezza) è un identificatore univoco utilizzato da Active Directory per identificare gli oggetti come entità di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="64f20-123">SID (Security Identifier) is a unique identifier that Active Directory uses to identify objects as security principal.</span></span>                  | <span data-ttu-id="64f20-124">S-1-5-21-453406510-812318184-4183662089</span><span class="sxs-lookup"><span data-stu-id="64f20-124">S-1-5-21-453406510-812318184-4183662089</span></span>             |

### <a name="2-select-non-azure-ad-user-properties-to-map"></a><span data-ttu-id="64f20-125">2. Selezionare proprietà utente non Azure ad per mappare</span><span class="sxs-lookup"><span data-stu-id="64f20-125">2. Select non-Azure AD user properties to map</span></span>

<span data-ttu-id="64f20-126">È possibile selezionare le proprietà non Azure AD estratte dall'origine dati per applicare le espressioni regolari.</span><span class="sxs-lookup"><span data-stu-id="64f20-126">You can select non-Azure AD properties pulled from your data source to apply regular expressions on.</span></span> <span data-ttu-id="64f20-127">Per ulteriori informazioni su dove trovare queste proprietà nell'origine dati, vedere le pagine [ServiceNow](servicenow-connector.md) e [Salesforce](salesforce-connector.md) .</span><span class="sxs-lookup"><span data-stu-id="64f20-127">To learn more about where to find these properties in your data source, see the [ServiceNow](servicenow-connector.md) and [Salesforce](salesforce-connector.md) pages.</span></span>  

<span data-ttu-id="64f20-128">È possibile selezionare una proprietà di un utente non Azure AD dall'elenco a discesa e fornire un'espressione regolare da applicare ai valori delle proprietà utente.</span><span class="sxs-lookup"><span data-stu-id="64f20-128">You can select a non-Azure AD user property from the dropdown and provide a regular expression to be applied on those user property values.</span></span> <span data-ttu-id="64f20-129">Per ulteriori informazioni sulle espressioni regolari, vedere [riferimento all'espressione regolare]( https://docs.microsoft.com/dotnet/standard/base-types/regular-expression-language-quick-reference).</span><span class="sxs-lookup"><span data-stu-id="64f20-129">To learn more about regular expressions, see [regular expression reference]( https://docs.microsoft.com/dotnet/standard/base-types/regular-expression-language-quick-reference).</span></span>  

<span data-ttu-id="64f20-130">Di seguito sono riportati alcuni esempi di espressioni regolari e gli output applicati a una stringa di esempio:</span><span class="sxs-lookup"><span data-stu-id="64f20-130">Below are some examples of regular expressions and their outputs applied to a sample string:</span></span> 

| <span data-ttu-id="64f20-131">Stringa di esempio</span><span class="sxs-lookup"><span data-stu-id="64f20-131">Sample String</span></span>                  | <span data-ttu-id="64f20-132">Espressione regolare</span><span class="sxs-lookup"><span data-stu-id="64f20-132">Regular expression</span></span>                 | <span data-ttu-id="64f20-133">Output dell'espressione regolare sulla stringa di esempio</span><span class="sxs-lookup"><span data-stu-id="64f20-133">Output of regular expression on sample string</span></span>           |
| :------------------- | :------------------- |:---------------|
| <span data-ttu-id="64f20-134">Alexis Vasquez</span><span class="sxs-lookup"><span data-stu-id="64f20-134">Alexis Vasquez</span></span>  | <span data-ttu-id="64f20-135">.\*</span><span class="sxs-lookup"><span data-stu-id="64f20-135">.\*</span></span> | <span data-ttu-id="64f20-136">Alexis Vasquez</span><span class="sxs-lookup"><span data-stu-id="64f20-136">Alexis Vasquez</span></span> |
| <span data-ttu-id="64f20-137">Alexis Vasquez</span><span class="sxs-lookup"><span data-stu-id="64f20-137">Alexis Vasquez</span></span>                 | <span data-ttu-id="64f20-138">..$</span><span class="sxs-lookup"><span data-stu-id="64f20-138">..$</span></span>                 | <span data-ttu-id="64f20-139">EZ</span><span class="sxs-lookup"><span data-stu-id="64f20-139">ez</span></span>            |
| <span data-ttu-id="64f20-140">Alexis Vasquez</span><span class="sxs-lookup"><span data-stu-id="64f20-140">Alexis Vasquez</span></span>                  | <span data-ttu-id="64f20-141">(\w +) $</span><span class="sxs-lookup"><span data-stu-id="64f20-141">(\w+)$</span></span>                  | <span data-ttu-id="64f20-142">Vasquez</span><span class="sxs-lookup"><span data-stu-id="64f20-142">Vasquez</span></span>             |

<span data-ttu-id="64f20-143">È possibile aggiungere tutte le proprietà degli utenti non Azure AD come si desiderano le espressioni.</span><span class="sxs-lookup"><span data-stu-id="64f20-143">You can add as many non-Azure AD user properties as you would like expressions for.</span></span> <span data-ttu-id="64f20-144">È possibile applicare espressioni regolari diverse alla stessa proprietà utente se la formula finale lo garantisce.</span><span class="sxs-lookup"><span data-stu-id="64f20-144">You can apply different regular expressions to the same user property if your final formula warrants that.</span></span>  

### <a name="3-create-formula-to-complete-mapping"></a><span data-ttu-id="64f20-145">3. creare la formula per completare il mapping</span><span class="sxs-lookup"><span data-stu-id="64f20-145">3. Create formula to complete mapping</span></span>

<span data-ttu-id="64f20-146">È possibile combinare gli output delle espressioni regolari applicate a ciascuna delle proprietà dell'utente non Azure ad per formare la proprietà Azure AD selezionata nel passaggio 1.</span><span class="sxs-lookup"><span data-stu-id="64f20-146">You can combine the outputs of the regular expressions applied to each of your non-Azure AD user properties to form the Azure AD property selected in step 1.</span></span>

<span data-ttu-id="64f20-147">Nella casella formula, " {0} " corrisponde all'output dell'espressione regolare applicata alla *prima* proprietà non Azure ad selezionata.</span><span class="sxs-lookup"><span data-stu-id="64f20-147">In the formula box, "{0}" corresponds to the output of the regular expression applied to the *first* non-Azure AD property you selected.</span></span> <span data-ttu-id="64f20-148">" {1} " corrisponde all'output dell'espressione regolare applicata alla *seconda* proprietà non Azure ad selezionata.</span><span class="sxs-lookup"><span data-stu-id="64f20-148">"{1}" corresponds to the output of the regular expression applied to the *second* non-Azure AD property you selected.</span></span> <span data-ttu-id="64f20-149">" {2} " corrisponde all'output dell'espressione regolare applicata alla *terza* proprietà non Azure ad e così via.</span><span class="sxs-lookup"><span data-stu-id="64f20-149">"{2}" corresponds to the output of the regular expression applied to the *third* non-Azure AD property, and so on.</span></span>  

<span data-ttu-id="64f20-150">Di seguito sono riportati alcuni esempi di formule con gli output di espressioni regolari di esempio e gli output delle formule:</span><span class="sxs-lookup"><span data-stu-id="64f20-150">Below are some examples of formulas with sample regular expression outputs and formula outputs:</span></span> 

| <span data-ttu-id="64f20-151">Formula di esempio</span><span class="sxs-lookup"><span data-stu-id="64f20-151">Sample formula</span></span>                  | <span data-ttu-id="64f20-152">Valore di un {0} utente di esempio</span><span class="sxs-lookup"><span data-stu-id="64f20-152">Value of {0} on sample user</span></span>                 | <span data-ttu-id="64f20-153">Valore di un {1} utente di esempio</span><span class="sxs-lookup"><span data-stu-id="64f20-153">Value of {1} on sample user</span></span>           | <span data-ttu-id="64f20-154">Output della formula</span><span class="sxs-lookup"><span data-stu-id="64f20-154">Output of formula</span></span>                  |
| :------------------- | :------------------- |:---------------|:---------------|
| <span data-ttu-id="64f20-155">{0}.{1} @contoso. com</span><span class="sxs-lookup"><span data-stu-id="64f20-155">{0}.{1}@contoso.com</span></span>  | <span data-ttu-id="64f20-156">FirstName</span><span class="sxs-lookup"><span data-stu-id="64f20-156">firstname</span></span> | <span data-ttu-id="64f20-157">LastName</span><span class="sxs-lookup"><span data-stu-id="64f20-157">lastname</span></span> |<span data-ttu-id="64f20-158">firstname.lastname@contoso.com</span><span class="sxs-lookup"><span data-stu-id="64f20-158">firstname.lastname@contoso.com</span></span>
| <span data-ttu-id="64f20-159">{0}@domain. com</span><span class="sxs-lookup"><span data-stu-id="64f20-159">{0}@domain.com</span></span>                 | <span data-ttu-id="64f20-160">UserID</span><span class="sxs-lookup"><span data-stu-id="64f20-160">userid</span></span>                 |             |<span data-ttu-id="64f20-161">userid@domain.com</span><span class="sxs-lookup"><span data-stu-id="64f20-161">userid@domain.com</span></span>

<span data-ttu-id="64f20-162">Dopo aver fornito la formula, è possibile fare clic su **Anteprima** per visualizzare un'anteprima di 5 utenti casuali dall'origine dati con i rispettivi mapping utente applicati.</span><span class="sxs-lookup"><span data-stu-id="64f20-162">After you provide your formula, you can optionally click **Preview** to see a preview of 5 random users from your data source with their respective user mappings applied.</span></span> <span data-ttu-id="64f20-163">L'output dell'anteprima include il valore delle proprietà dell'utente non di Azure AD selezionate nel passaggio 2 per gli utenti e l'output della formula finale fornita nel passaggio 3 per tale utente.</span><span class="sxs-lookup"><span data-stu-id="64f20-163">The output of the preview includes the value of the non-Azure AD user properties selected in step 2 for those users and the output of the final formula provided in step 3 for that user.</span></span> <span data-ttu-id="64f20-164">Indica anche se l'output della formula può essere risolto in un utente di Azure AD nel tenant tramite un'icona "riuscita" o "non riuscita".</span><span class="sxs-lookup"><span data-stu-id="64f20-164">It also indicates whether the output of the formula could be resolved to an Azure AD user in your tenant via a "Success" or "Failed" icon.</span></span>  

>[!NOTE]
><span data-ttu-id="64f20-165">È comunque possibile continuare a creare la connessione se uno o più mapping degli utenti hanno uno stato "non riuscito" dopo aver fatto clic su **Anteprima**.</span><span class="sxs-lookup"><span data-stu-id="64f20-165">You can still proceed with creating your connection if one or more user mappings have a "Failed" status after you click **Preview**.</span></span> <span data-ttu-id="64f20-166">Nell'anteprima vengono visualizzati 5 utenti casuali e i relativi mapping dall'origine dati.</span><span class="sxs-lookup"><span data-stu-id="64f20-166">The preview shows 5 random users and their mappings from your data source.</span></span> <span data-ttu-id="64f20-167">Se il mapping specificato non esegue il mapping di tutti gli utenti, è possibile che si verifichi questo caso.</span><span class="sxs-lookup"><span data-stu-id="64f20-167">If the mapping you provide does not map all users, you may experience this case.</span></span>

## <a name="sample-non-azure-ad-mapping"></a><span data-ttu-id="64f20-168">Esempio di mapping di non Azure AD</span><span class="sxs-lookup"><span data-stu-id="64f20-168">Sample non-Azure AD mapping</span></span>

<span data-ttu-id="64f20-169">Vedere lo snapshot seguente per un esempio di mapping non di Azure AD.</span><span class="sxs-lookup"><span data-stu-id="64f20-169">See the snapshot below for a sample non-Azure AD mapping.</span></span>

![Snapshot di esempio su come compilare la pagina di mapping non di Azure AD](media/non-aad-mapping.png)

## <a name="limitations"></a><span data-ttu-id="64f20-171">Limitazioni</span><span class="sxs-lookup"><span data-stu-id="64f20-171">Limitations</span></span>  

- <span data-ttu-id="64f20-172">Solo un mapping è supportato per tutti gli utenti.</span><span class="sxs-lookup"><span data-stu-id="64f20-172">Only one mapping is supported for all users.</span></span> <span data-ttu-id="64f20-173">I mapping condizionali non sono supportati.</span><span class="sxs-lookup"><span data-stu-id="64f20-173">Conditional mappings are not supported.</span></span>  

- <span data-ttu-id="64f20-174">Non è possibile modificare il mapping dopo la pubblicazione della connessione.</span><span class="sxs-lookup"><span data-stu-id="64f20-174">You cannot change your mapping once the connection is published.</span></span>  

- <span data-ttu-id="64f20-175">Per la trasformazione sono attualmente supportate solo le espressioni basate su Regex rispetto alle proprietà dell'utente non AAD.</span><span class="sxs-lookup"><span data-stu-id="64f20-175">Only regex-based expressions against the non-AAD user properties are currently supported for the transformation.</span></span>

- <span data-ttu-id="64f20-176">Sono disponibili solo 3 identità di Azure AD che è possibile scegliere di associare (UPN, Azure AD ID e AD SID).</span><span class="sxs-lookup"><span data-stu-id="64f20-176">There are only 3 Azure AD identities you can choose to map to (UPN, Azure AD ID, and AD SID).</span></span>