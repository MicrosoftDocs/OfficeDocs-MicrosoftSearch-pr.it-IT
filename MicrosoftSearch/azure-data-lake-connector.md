---
title: Connettore Azure Data Lake per Microsoft Search
ms.author: monaray
author: monaray97
manager: shohara
ms.audience: Admin
ms.topic: article
ms.service: mssearch
localization_priority: Normal
search.appverid:
- BFB160
- MET150
- MOE150
description: Configurare il connettore Azure Data Lake Storage Gen2 per Microsoft Search
ms.openlocfilehash: 8891c9a1fdf5397c397a941b5131f014db9e7a54
ms.sourcegitcommit: 597c338bf9c1c425747ac74a9a1ae57c5e8957ce
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/21/2021
ms.locfileid: "49920723"
---
# <a name="azure-data-lake-storage-gen2-connector"></a><span data-ttu-id="279e8-103">Connettore Azure Data Lake Storage Gen2</span><span class="sxs-lookup"><span data-stu-id="279e8-103">Azure Data Lake Storage Gen2 connector</span></span>

<span data-ttu-id="279e8-104">Con il connettore Azure Data Lake Storage Gen2, gli utenti dell'organizzazione possono cercare i file archiviati negli account di archiviazione BLOB di [Azure](https://docs.microsoft.com/azure/storage/blobs/storage-blobs-introduction) e azure [Data Lake Gen 2.](https://docs.microsoft.com/azure/storage/blobs/data-lake-storage-introduction)</span><span class="sxs-lookup"><span data-stu-id="279e8-104">With the Azure Data Lake Storage Gen2 connector, users in your organization can search for files stored in [Azure Blob Storage](https://docs.microsoft.com/azure/storage/blobs/storage-blobs-introduction) and [Azure Data Lake Gen 2 Storage](https://docs.microsoft.com/azure/storage/blobs/data-lake-storage-introduction) accounts.</span></span>

<span data-ttu-id="279e8-105">Questo articolo è per gli amministratori di [Microsoft 365](https://www.microsoft.com/microsoft-365) o chiunque configura, esegue e monitora un connettore Azure Data Lake Storage Gen2.</span><span class="sxs-lookup"><span data-stu-id="279e8-105">This article is for [Microsoft 365](https://www.microsoft.com/microsoft-365) administrators or anyone who configures, runs, and monitors an Azure Data Lake Storage Gen2 connector.</span></span> <span data-ttu-id="279e8-106">Offre una panoramica della configurazione del connettore, delle funzionalità, delle limitazioni e delle tecniche di risoluzione dei problemi.</span><span class="sxs-lookup"><span data-stu-id="279e8-106">It gives an overview of the connector configuration, capabilities, limitations, and troubleshooting techniques.</span></span> <span data-ttu-id="279e8-107">Nell'articolo viene utilizzato *Archiviazione di Azure* come termine generico per Archiviazione BLOB di [Azure](https://docs.microsoft.com/azure/storage/blobs/storage-blobs-introduction) e Archiviazione Azure Data Lake [Gen 2.](https://docs.microsoft.com/azure/storage/blobs/data-lake-storage-introduction)</span><span class="sxs-lookup"><span data-stu-id="279e8-107">In the article, we use *Azure Storage* as a generic term for [Azure Blob Storage](https://docs.microsoft.com/azure/storage/blobs/storage-blobs-introduction) and [Azure Data Lake Gen 2 Storage](https://docs.microsoft.com/azure/storage/blobs/data-lake-storage-introduction).</span></span>

## <a name="connect-to-a-data-source"></a><span data-ttu-id="279e8-108">Connettersi a un'origine dati</span><span class="sxs-lookup"><span data-stu-id="279e8-108">Connect to a data source</span></span>

### <a name="primary-storage-connection-string"></a><span data-ttu-id="279e8-109">Stringa di connessione di archiviazione principale</span><span class="sxs-lookup"><span data-stu-id="279e8-109">Primary storage connection string</span></span>

<span data-ttu-id="279e8-110">Nella schermata **Autenticazione e configurazione** specificare la stringa di connessione di archiviazione principale.</span><span class="sxs-lookup"><span data-stu-id="279e8-110">On the **Authentication and config** screen, provide the Primary Storage Connection String.</span></span> <span data-ttu-id="279e8-111">Tale stringa è necessaria per consentire l'accesso all'account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="279e8-111">That string is required to allow access to your storage account.</span></span> <span data-ttu-id="279e8-112">Per trovare la stringa di connessione, passare al portale [di Azure](https://ms.portal.azure.com/#home) e passare alla **sezione** Chiavi dell'account di archiviazione di Azure pertinente.</span><span class="sxs-lookup"><span data-stu-id="279e8-112">To find your connection string, go to the [Azure portal](https://ms.portal.azure.com/#home) and navigate to the **Keys** section of your relevant Azure Storage account.</span></span> <span data-ttu-id="279e8-113">Copiare e incollare la stringa di connessione nel campo appropriato sullo schermo.</span><span class="sxs-lookup"><span data-stu-id="279e8-113">Copy and paste the connection string in the appropriate field on the screen.</span></span>

<span data-ttu-id="279e8-114">Se non si preferisce fornire **AccountKey** (un parametro nella stringa di connessione di archiviazione principale), sarà necessario concedere l'accesso al servizio connettori Graph per i ruoli seguenti.</span><span class="sxs-lookup"><span data-stu-id="279e8-114">If you do not prefer to provide the **AccountKey** (a parameter in the primary storage connection string), you will need to grant access to our Graph Connectors Service for the following roles.</span></span> <span data-ttu-id="279e8-115">Questa funzionalità è supportata solo per l'archiviazione gerarchica.</span><span class="sxs-lookup"><span data-stu-id="279e8-115">(This feature is only supported for hierarchical storage.</span></span> <span data-ttu-id="279e8-116">L'archiviazione BLOB tradizionale dovrà fornire AccountKey.</span><span class="sxs-lookup"><span data-stu-id="279e8-116">Traditional Blob storage will have to provide AccountKey.)</span></span>
* <span data-ttu-id="279e8-117">Lettore dati BLOB di archiviazione</span><span class="sxs-lookup"><span data-stu-id="279e8-117">Storage Blob Data Reader</span></span>
* <span data-ttu-id="279e8-118">Collaboratore dati coda di archiviazione</span><span class="sxs-lookup"><span data-stu-id="279e8-118">Storage Queue Data Contributor</span></span>
* <span data-ttu-id="279e8-119">Delegatore BLOB di archiviazione</span><span class="sxs-lookup"><span data-stu-id="279e8-119">Storage Blob Delegator</span></span>

<span data-ttu-id="279e8-120">Passare alla scheda **Controllo di accesso** dell'account di archiviazione di Azure e seguire le istruzioni per concedere l'accesso all'app seguente:</span><span class="sxs-lookup"><span data-stu-id="279e8-120">Navigate to the **Access Control** tab of your Azure Storage account, and follow the instructions there to grant access to the following app:</span></span>

* <span data-ttu-id="279e8-121">ID app di prima **parte:** 56c1da01-2129-48f7-9355-af6d59d42766</span><span class="sxs-lookup"><span data-stu-id="279e8-121">**First Party App ID:** 56c1da01-2129-48f7-9355-af6d59d42766</span></span>
* <span data-ttu-id="279e8-122">**Nome app di prima parte:** Servizio connettore grafico</span><span class="sxs-lookup"><span data-stu-id="279e8-122">**First Party App Name:** Graph Connector Service</span></span>

### <a name="storage-account-and-queue-notifications-optional"></a><span data-ttu-id="279e8-123">Notifiche sull'account di archiviazione e sulla coda (facoltativo)</span><span class="sxs-lookup"><span data-stu-id="279e8-123">Storage account and queue notifications (Optional)</span></span>

<span data-ttu-id="279e8-124">Il supporto per elaborare le modifiche in tempo reale nel servizio connettori graph potrebbe essere aggiunto in futuro.</span><span class="sxs-lookup"><span data-stu-id="279e8-124">Support to process changes in real time in the Graph Connectors Service might be added in the future.</span></span> <span data-ttu-id="279e8-125">In tal caso, verranno monitorate le notifiche di modifica di Archiviazione di Azure archiviate in una coda.</span><span class="sxs-lookup"><span data-stu-id="279e8-125">In that case, we'll monitor Azure Storage change notifications stored in a queue.</span></span> <span data-ttu-id="279e8-126">Dovrai creare una coda nello stesso account dell'account di archiviazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="279e8-126">You'll need to create a queue in the same account as your Azure Storage account.</span></span>

<span data-ttu-id="279e8-127">Dopo aver creato una coda, passare alla scheda **Eventi** nella pagina della coda per configurare la **sottoscrizione di evento.**</span><span class="sxs-lookup"><span data-stu-id="279e8-127">After you create a queue, go to the **Events** tab on the queue page to configure **Event Subscription**.</span></span> <span data-ttu-id="279e8-128">Scegliere tutti gli eventi BLOB che la coda riceverà e connettere la coda all'account di archiviazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="279e8-128">Choose all the Blob events that the queue will receive, and connect the queue to the Azure Storage account.</span></span>

## <a name="manage-search-permissions"></a><span data-ttu-id="279e8-129">Gestire le autorizzazioni di ricerca</span><span class="sxs-lookup"><span data-stu-id="279e8-129">Manage search permissions</span></span>

### <a name="azure-data-lake-gen-2"></a><span data-ttu-id="279e8-130">Azure Data Lake Gen 2</span><span class="sxs-lookup"><span data-stu-id="279e8-130">Azure Data Lake Gen 2</span></span>

<span data-ttu-id="279e8-131">Nella schermata **Gestisci autorizzazioni di** ricerca è possibile scegliere di inserire gli elenchi di controllo di accesso (ACL) dall'account di archiviazione di Azure Data Lake Gen [2.](https://docs.microsoft.com/azure/storage/blobs/data-lake-storage-introduction)</span><span class="sxs-lookup"><span data-stu-id="279e8-131">On the **Manage search permissions** screen, you can choose to ingest the Access Control Lists (ACLs) from your [Azure Data Lake Gen 2 Storage](https://docs.microsoft.com/azure/storage/blobs/data-lake-storage-introduction) account.</span></span> <span data-ttu-id="279e8-132">Quando queste autorizzazioni di ricerca sono impostate, il contenuto della ricerca viene tagliato in base alle autorizzazioni assegnate all'utente di [Azure Active Directory](https://docs.microsoft.com/azure/active-directory/) connesso che esegue la ricerca nel contenuto.</span><span class="sxs-lookup"><span data-stu-id="279e8-132">When these search permissions are set, search content is trimmed based on the permissions assigned to the signed-in [Azure Active Directory](https://docs.microsoft.com/azure/active-directory/) user searching the content.</span></span> <span data-ttu-id="279e8-133">In alternativa, è possibile scegliere di rendere tutto il contenuto indicizzato dall'account di archiviazione visibile a tutti gli utenti dell'organizzazione.</span><span class="sxs-lookup"><span data-stu-id="279e8-133">Alternatively, you can choose to make all the content indexed from your storage account visible to everyone in your organization.</span></span> <span data-ttu-id="279e8-134">In questo caso, tutti gli utenti dell'organizzazione avranno accesso a tutti i dati nell'account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="279e8-134">In this case, everyone in your organization will have access to all the data in your storage account.</span></span>

### <a name="azure-blob-storage"></a><span data-ttu-id="279e8-135">Archiviazione BLOB di Azure</span><span class="sxs-lookup"><span data-stu-id="279e8-135">Azure Blob Storage</span></span>

<span data-ttu-id="279e8-136">Per una connessione [all'archiviazione BLOB di Azure,](https://docs.microsoft.com/azure/storage/blobs/storage-blobs-introduction)tutto il contenuto indicizzato dall'origine configurata è visibile a tutti gli utenti dell'organizzazione.</span><span class="sxs-lookup"><span data-stu-id="279e8-136">For a connection to [Azure Blob Storage](https://docs.microsoft.com/azure/storage/blobs/storage-blobs-introduction), all the content indexed from the configured source is visible to everyone in your organization.</span></span> <span data-ttu-id="279e8-137">Gli elenchi di controllo di accesso non sono supportati a livello blob in Archiviazione BLOB di Azure.</span><span class="sxs-lookup"><span data-stu-id="279e8-137">Access control lists are not supported at Blob level in Azure Blob Storage.</span></span>

## <a name="search-permissions"></a><span data-ttu-id="279e8-138">Autorizzazioni di ricerca</span><span class="sxs-lookup"><span data-stu-id="279e8-138">Search permissions</span></span>

<span data-ttu-id="279e8-139">Il connettore Azure Data Lake Storage Gen2 supporta le autorizzazioni di ricerca visibili per **tutti** gli utenti o solo per gli utenti con **accesso a questa origine dati.**</span><span class="sxs-lookup"><span data-stu-id="279e8-139">The Azure Data Lake Storage Gen2 connector supports search permissions visible to **Everyone** or **Only people with access to this data source**.</span></span> <span data-ttu-id="279e8-140">I dati indicizzati visualizzati nei risultati della ricerca potrebbero essere visibili a tutti gli utenti dell'organizzazione o solo agli utenti che hanno accesso a ogni elemento.</span><span class="sxs-lookup"><span data-stu-id="279e8-140">Indexed data that appears in the search results could be visible to all users in the organization or only to users who have access to each item.</span></span>

## <a name="assign-property-labels"></a><span data-ttu-id="279e8-141">Assegnare etichette di proprietà</span><span class="sxs-lookup"><span data-stu-id="279e8-141">Assign property labels</span></span>

<span data-ttu-id="279e8-142">Puoi assegnare una proprietà di origine a ogni etichetta scegliendo da un menu di opzioni.</span><span class="sxs-lookup"><span data-stu-id="279e8-142">You can assign a source property to each label by choosing from a menu of options.</span></span> <span data-ttu-id="279e8-143">Anche se questo passaggio non è obbligatorio, la presenza di alcune etichette di proprietà migliorerà la pertinenza della ricerca e garantirà risultati di ricerca più accurati per gli utenti finali.</span><span class="sxs-lookup"><span data-stu-id="279e8-143">While this step is not mandatory, having some property labels will improve the search relevance and ensure more accurate search results for end users.</span></span>

## <a name="manage-schema"></a><span data-ttu-id="279e8-144">Gestire lo schema</span><span class="sxs-lookup"><span data-stu-id="279e8-144">Manage schema</span></span>

<span data-ttu-id="279e8-145">Nella schermata Gestisci **schema** è possibile modificare gli attributi dello schema **(** disponibili per **query,** **ricercabili,** recuperabili e per affinamento **ricerca)** associati alle proprietà, aggiungere alias facoltativi e scegliere la proprietà **Content.**</span><span class="sxs-lookup"><span data-stu-id="279e8-145">On the **Manage Schema** screen, you have the option to change the schema attributes (**queryable**, **searchable**, **retrievable**, and **refinable**) associated with the properties, add optional aliases, and choose the **Content** property.</span></span>

## <a name="set-the-refresh-schedule"></a><span data-ttu-id="279e8-146">Impostare la pianificazione dell'aggiornamento</span><span class="sxs-lookup"><span data-stu-id="279e8-146">Set the refresh schedule</span></span>

<span data-ttu-id="279e8-147">Nella schermata **Impostazioni aggiornamento è** possibile impostare l'intervallo di ricerca per indicizzazione incrementale e l'intervallo di ricerca per indicizzazione completa.</span><span class="sxs-lookup"><span data-stu-id="279e8-147">On the **Refresh Settings** screen, you can set the incremental crawl interval and the full crawl interval.</span></span> <span data-ttu-id="279e8-148">Gli intervalli predefiniti per il connettore Azure Data Lake Storage Gen2 sono di 15 minuti per una ricerca per indicizzazione incrementale e di una settimana per una ricerca per indicizzazione completa.</span><span class="sxs-lookup"><span data-stu-id="279e8-148">The default intervals for the Azure Data Lake Storage Gen2 connector are 15 minutes for an incremental crawl and one week for a full crawl.</span></span>

## <a name="limitations"></a><span data-ttu-id="279e8-149">Limitazioni</span><span class="sxs-lookup"><span data-stu-id="279e8-149">Limitations</span></span>

<span data-ttu-id="279e8-150">Una connessione pubblicata per l'archiviazione BLOB di Azure non può essere riconfigurata per l'origine di Azure Data Lake Storage Gen2 e viceversa.</span><span class="sxs-lookup"><span data-stu-id="279e8-150">A published connection for Azure Blob Storage cannot be reconfigured for Azure Data Lake Storage Gen2 source and vice-versa.</span></span> <span data-ttu-id="279e8-151">In questi scenari, è consigliabile configurare una nuova connessione.</span><span class="sxs-lookup"><span data-stu-id="279e8-151">In such scenarios, it is recommended to configure a new connection.</span></span>
