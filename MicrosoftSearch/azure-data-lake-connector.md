---
title: Azure Data Lake Connector per Microsoft Search
ms.author: mounika.narayanan
author: monaray
manager: shohara
ms.audience: Admin
ms.topic: article
ms.service: mssearch
localization_priority: Normal
search.appverid:
- BFB160
- MET150
- MOE150
description: Configurare il connettore Gen2 di Azure Data Lake storage per Microsoft Search
ms.openlocfilehash: d6adabc6ea40b4385059f80375f49fb73e63e65b
ms.sourcegitcommit: 9ba062f8b632a74e56ad7ec4dffaa1d8dab57614
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 07/01/2020
ms.locfileid: "44996095"
---
# <a name="azure-data-lake-storage-gen2-connector"></a><span data-ttu-id="7065d-103">Connettore Gen2 di archiviazione di Azure Data Lake</span><span class="sxs-lookup"><span data-stu-id="7065d-103">Azure Data Lake Storage Gen2 connector</span></span>

<span data-ttu-id="7065d-104">Con il connettore Gen2 di Azure Data Lake storage, gli utenti dell'organizzazione possono cercare i file archiviati nell' [archiviazione BLOB di Azure](https://docs.microsoft.com/azure/storage/blobs/storage-blobs-introduction) e negli account di [archiviazione di Azure Data Lake gen 2](https://docs.microsoft.com/azure/storage/blobs/data-lake-storage-introduction) .</span><span class="sxs-lookup"><span data-stu-id="7065d-104">With the Azure Data Lake Storage Gen2 connector, users in your organization can search for files stored in [Azure Blob Storage](https://docs.microsoft.com/azure/storage/blobs/storage-blobs-introduction) and [Azure Data Lake Gen 2 Storage](https://docs.microsoft.com/azure/storage/blobs/data-lake-storage-introduction) accounts.</span></span>

<span data-ttu-id="7065d-105">Questo articolo è per gli amministratori di [Microsoft 365](https://www.microsoft.com/microsoft-365) o per tutti coloro che configurano, eseguono e monitorano un connettore di Gen2 di archiviazione di Azure Data Lake.</span><span class="sxs-lookup"><span data-stu-id="7065d-105">This article is for [Microsoft 365](https://www.microsoft.com/microsoft-365) administrators or anyone who configures, runs, and monitors an Azure Data Lake Storage Gen2 connector.</span></span> <span data-ttu-id="7065d-106">Viene fornita una panoramica delle tecniche di configurazione, funzionalità, limitazioni e risoluzione dei problemi del connettore.</span><span class="sxs-lookup"><span data-stu-id="7065d-106">It gives an overview of the connector configuration, capabilities, limitations, and troubleshooting techniques.</span></span> <span data-ttu-id="7065d-107">Nell'articolo viene utilizzato lo *spazio di archiviazione di Azure* come termine generico per l'archiviazione BLOB di [Azure](https://docs.microsoft.com/azure/storage/blobs/storage-blobs-introduction) e l' [archiviazione di Azure Data Lake gen 2](https://docs.microsoft.com/azure/storage/blobs/data-lake-storage-introduction).</span><span class="sxs-lookup"><span data-stu-id="7065d-107">In the article, we use *Azure Storage* as a generic term for [Azure Blob Storage](https://docs.microsoft.com/azure/storage/blobs/storage-blobs-introduction) and [Azure Data Lake Gen 2 Storage](https://docs.microsoft.com/azure/storage/blobs/data-lake-storage-introduction).</span></span>

## <a name="connect-to-a-data-source"></a><span data-ttu-id="7065d-108">Connettersi a un'origine dati</span><span class="sxs-lookup"><span data-stu-id="7065d-108">Connect to a data source</span></span>
### <a name="primary-storage-connection-string"></a><span data-ttu-id="7065d-109">Stringa di connessione di archiviazione principale</span><span class="sxs-lookup"><span data-stu-id="7065d-109">Primary storage connection string</span></span> 
<span data-ttu-id="7065d-110">Nella schermata **autenticazione e configurazione** fornire la stringa di connessione di archiviazione principale.</span><span class="sxs-lookup"><span data-stu-id="7065d-110">On the **Authentication and config** screen, provide the Primary Storage Connection String.</span></span> <span data-ttu-id="7065d-111">Tale stringa è necessaria per consentire l'accesso all'account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="7065d-111">That string is required to allow access to your storage account.</span></span> <span data-ttu-id="7065d-112">Per trovare la stringa di connessione, passare al [portale di Azure](https://ms.portal.azure.com/#home) e passare alla sezione **Keys** dell'account di archiviazione di Azure pertinente.</span><span class="sxs-lookup"><span data-stu-id="7065d-112">To find your connection string, go to the [Azure portal](https://ms.portal.azure.com/#home) and navigate to the **Keys** section of your relevant Azure Storage account.</span></span> <span data-ttu-id="7065d-113">Copiare e incollare la stringa di connessione nel campo appropriato sullo schermo.</span><span class="sxs-lookup"><span data-stu-id="7065d-113">Copy and paste the connection string in the appropriate field on the screen.</span></span>

<span data-ttu-id="7065d-114">Se non si preferisce fornire il **AccountKey** (un parametro nella stringa di connessione di archiviazione principale), è necessario concedere l'accesso in lettura al servizio dei connettori del grafico.</span><span class="sxs-lookup"><span data-stu-id="7065d-114">If you do not prefer to provide the **AccountKey** (a parameter in the primary storage connection string), you will need to grant read access to our Graph Connectors Service.</span></span> <span data-ttu-id="7065d-115">Passare alla scheda **controllo di accesso** dell'account di archiviazione di Azure e seguire le istruzioni riportate per concedere l'accesso all'app seguente:</span><span class="sxs-lookup"><span data-stu-id="7065d-115">Navigate to the **Access Control** tab of your Azure Storage account, and follow the instructions there to grant access to the following app:</span></span>
* <span data-ttu-id="7065d-116">**ID app per la prima parte:** 56c1da01-2129-48f7-9355-af6d59d42766</span><span class="sxs-lookup"><span data-stu-id="7065d-116">**First Party App ID:** 56c1da01-2129-48f7-9355-af6d59d42766</span></span>
* <span data-ttu-id="7065d-117">**Nome dell'app per la prima parte:** Servizio del connettore grafico</span><span class="sxs-lookup"><span data-stu-id="7065d-117">**First Party App Name:** Graph Connector Service</span></span>

### <a name="storage-account-and-queue-notifications-optional"></a><span data-ttu-id="7065d-118">Account di archiviazione e notifiche di coda (facoltativa)</span><span class="sxs-lookup"><span data-stu-id="7065d-118">Storage account and queue notifications (Optional)</span></span>
<span data-ttu-id="7065d-119">Il supporto per l'elaborazione delle modifiche in tempo reale nel servizio dei connettori del grafico potrebbe essere aggiunto in futuro.</span><span class="sxs-lookup"><span data-stu-id="7065d-119">Support to process changes in real time in the Graph Connectors Service might be added in the future.</span></span> <span data-ttu-id="7065d-120">In tal caso, verranno monitorate le notifiche di modifica di archiviazione di Azure memorizzate in una coda.</span><span class="sxs-lookup"><span data-stu-id="7065d-120">In that case, we'll monitor Azure Storage change notifications stored in a queue.</span></span> <span data-ttu-id="7065d-121">Sarà necessario creare una coda nello stesso account dell'account di archiviazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="7065d-121">You'll need to create a queue in the same account as your Azure Storage account.</span></span>

<span data-ttu-id="7065d-122">Dopo aver creato una coda, passare alla scheda **eventi** della pagina coda per configurare la **sottoscrizione di eventi**.</span><span class="sxs-lookup"><span data-stu-id="7065d-122">After you create a queue, go to the **Events** tab on the queue page to configure **Event Subscription**.</span></span> <span data-ttu-id="7065d-123">Scegliere tutti gli eventi BLOB che la coda riceverà e connettere la coda all'account di archiviazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="7065d-123">Choose all the Blob events that the queue will receive, and connect the queue to the Azure Storage account.</span></span>

## <a name="manage-the-search-schema"></a><span data-ttu-id="7065d-124">Gestire lo schema di ricerca</span><span class="sxs-lookup"><span data-stu-id="7065d-124">Manage the search schema</span></span>
<span data-ttu-id="7065d-125">Nella schermata **Gestisci schema** è possibile modificare gli attributi dello schema (**Queryable**, **Searchable**e **Retrievable**) associati alle proprietà gestite.</span><span class="sxs-lookup"><span data-stu-id="7065d-125">On the **Manage Schema** screen, you have the option to change the schema attributes (**queryable**, **searchable**, and **retrievable**) associated with the managed properties.</span></span> <span data-ttu-id="7065d-126">Questi attributi delle proprietà gestite sono dati indicizzati dall'account di archiviazione dei dati di Azure.</span><span class="sxs-lookup"><span data-stu-id="7065d-126">These managed property attributes are data indexed from your Azure Data Storage account.</span></span>

## <a name="manage-search-permissions"></a><span data-ttu-id="7065d-127">Gestire le autorizzazioni di ricerca</span><span class="sxs-lookup"><span data-stu-id="7065d-127">Manage search permissions</span></span>
### <a name="azure-data-lake-gen-2"></a><span data-ttu-id="7065d-128">Azure Data Lake gen 2</span><span class="sxs-lookup"><span data-stu-id="7065d-128">Azure Data Lake Gen 2</span></span>
<span data-ttu-id="7065d-129">Nella schermata **Gestisci autorizzazioni di ricerca** è possibile scegliere di ingerire gli elenchi di controllo di accesso (ACL, Access Control List) dall'account di [archiviazione di Azure Data Lake gen 2](https://docs.microsoft.com/azure/storage/blobs/data-lake-storage-introduction) .</span><span class="sxs-lookup"><span data-stu-id="7065d-129">On the **Manage search permissions** screen, you can choose to ingest the Access Control Lists (ACLs) from your [Azure Data Lake Gen 2 Storage](https://docs.microsoft.com/azure/storage/blobs/data-lake-storage-introduction) account.</span></span> <span data-ttu-id="7065d-130">Quando vengono impostate queste autorizzazioni di ricerca, il contenuto della ricerca viene ritagliato in base alle autorizzazioni assegnate all'utente di [Azure Active Directory](https://docs.microsoft.com/azure/active-directory/) con accesso che esegue la ricerca nel contenuto.</span><span class="sxs-lookup"><span data-stu-id="7065d-130">When these search permissions are set, search content is trimmed based on the permissions assigned to the signed-in [Azure Active Directory](https://docs.microsoft.com/azure/active-directory/) user searching the content.</span></span> <span data-ttu-id="7065d-131">In alternativa, è possibile scegliere di rendere tutto il contenuto indicizzato dall'account di archiviazione visibile a tutti gli utenti dell'organizzazione.</span><span class="sxs-lookup"><span data-stu-id="7065d-131">Alternatively, you can choose to make all the content indexed from your storage account visible to everyone in your organization.</span></span> <span data-ttu-id="7065d-132">In questo caso, tutti gli utenti dell'organizzazione avranno accesso a tutti i dati dell'account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="7065d-132">In this case, everyone in your organization will have access to all the data in your storage account.</span></span>

### <a name="azure-blob-storage"></a><span data-ttu-id="7065d-133">Archiviazione BLOB di Azure</span><span class="sxs-lookup"><span data-stu-id="7065d-133">Azure Blob Storage</span></span>
<span data-ttu-id="7065d-134">Per una connessione all' [archiviazione BLOB di Azure](https://docs.microsoft.com/azure/storage/blobs/storage-blobs-introduction), tutti i contenuti indicizzati dall'origine configurata sono visibili a tutti gli utenti dell'organizzazione.</span><span class="sxs-lookup"><span data-stu-id="7065d-134">For a connection to [Azure Blob Storage](https://docs.microsoft.com/azure/storage/blobs/storage-blobs-introduction), all the content indexed from the configured source is visible to everyone in your organization.</span></span> <span data-ttu-id="7065d-135">Gli elenchi di controllo di accesso non sono supportati a livello di BLOB nell'archiviazione BLOB di Azure.</span><span class="sxs-lookup"><span data-stu-id="7065d-135">Access control lists are not supported at Blob level in Azure Blob Storage.</span></span>

## <a name="set-the-refresh-schedule"></a><span data-ttu-id="7065d-136">Impostare la pianificazione di aggiornamento</span><span class="sxs-lookup"><span data-stu-id="7065d-136">Set the refresh schedule</span></span>
<span data-ttu-id="7065d-137">Nella schermata **Aggiorna impostazioni** è possibile impostare l'intervallo di ricerca per indicizzazione incrementale e l'intervallo di ricerca per indicizzazione completo.</span><span class="sxs-lookup"><span data-stu-id="7065d-137">On the **Refresh Settings** screen, you can set the incremental crawl interval and the full crawl interval.</span></span> <span data-ttu-id="7065d-138">Gli intervalli predefiniti per il connettore Gen2 di Azure Data Lake storage sono 15 minuti per una ricerca per indicizzazione incrementale e una settimana per una ricerca per indicizzazione completa.</span><span class="sxs-lookup"><span data-stu-id="7065d-138">The default intervals for the Azure Data Lake Storage Gen2 connector are 15 minutes for an incremental crawl and one week for a full crawl.</span></span>

## <a name="limitations"></a><span data-ttu-id="7065d-139">Limitazioni</span><span class="sxs-lookup"><span data-stu-id="7065d-139">Limitations</span></span>
<span data-ttu-id="7065d-140">Non è possibile riconfigurare una connessione pubblicata per l'archiviazione BLOB di Azure per Azure Data Lake storage Gen2 source e viceversa.</span><span class="sxs-lookup"><span data-stu-id="7065d-140">A published connection for Azure Blob Storage cannot be reconfigured for Azure Data Lake Storage Gen2 source and vice-versa.</span></span> <span data-ttu-id="7065d-141">In questi scenari, si consiglia di configurare una nuova connessione.</span><span class="sxs-lookup"><span data-stu-id="7065d-141">In such scenarios, it is recommended to configure a new connection.</span></span>