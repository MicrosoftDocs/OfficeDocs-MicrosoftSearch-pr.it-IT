---
title: Personalizzare la Microsoft Search pagina
ms.author: jeffkizn
author: jypal
manager: jeffkizn
ms.audience: Admin
ms.topic: article
ms.service: mssearch
localization_priority: Normal
search.appverid:
- BFB160
- MET150
- MOE150
description: Aggiungere verticali di ricerca e personalizzare i risultati della ricerca
ms.openlocfilehash: 6b6f0593a668e9c2c5c7fc5a62f7b5dd4a43a8bb
ms.sourcegitcommit: ea6905626de67090141039565282e4e0c53b43ac
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 07/07/2021
ms.locfileid: "53314020"
---
# <a name="customize-the-search-results-page"></a><span data-ttu-id="ca667-103">Personalizzare la pagina dei risultati della ricerca</span><span class="sxs-lookup"><span data-stu-id="ca667-103">Customize the search results page</span></span>

<span data-ttu-id="ca667-104">È possibile creare verticali di ricerca e tipi di risultati per personalizzare i risultati della ricerca visualizzati dagli utenti durante la ricerca in Microsoft [SharePoint,](https://sharepoint.com/)Microsoft Office e [Microsoft Search](https://office.com)in [Bing](https://bing.com).</span><span class="sxs-lookup"><span data-stu-id="ca667-104">You can create search verticals and result types to customize the search results that users see when they search in Microsoft [SharePoint](https://sharepoint.com/), [Microsoft Office](https://office.com), and Microsoft Search in [Bing](https://bing.com).</span></span> <span data-ttu-id="ca667-105">I verticali facilitano agli utenti l'individuazione delle informazioni di cui dispongono dell'autorizzazione per la visualizzazione.</span><span class="sxs-lookup"><span data-stu-id="ca667-105">Verticals make it easier for users to find the information that they have permission to see.</span></span> <span data-ttu-id="ca667-106">Ad esempio, è possibile creare un verticale di ricerca per i dati di analisi di marketing da software di terze parti per gli utenti del reparto marketing.</span><span class="sxs-lookup"><span data-stu-id="ca667-106">For example, you could create a search vertical for marketing analysis data from third-party software for your users in the marketing department.</span></span> <span data-ttu-id="ca667-107">È inoltre possibile definire tipi di risultati e personalizzare il layout per questi dati.</span><span class="sxs-lookup"><span data-stu-id="ca667-107">You can also define result types and customize the layout for this data.</span></span>  

<span data-ttu-id="ca667-108">È possibile creare verticali e tipi di risultati a questi livelli:</span><span class="sxs-lookup"><span data-stu-id="ca667-108">You can create verticals and result types at these levels:</span></span>

- <span data-ttu-id="ca667-109">**Livello** dell'organizzazione: quando si aggiunge un verticale a livello di organizzazione, questo viene visualizzato nella pagina dei risultati di ricerca quando gli utenti eseere una ricerca dalla pagina iniziale di [SharePoint,](https://sharepoint.com/) [Office](https://office.com)o [Bing](https://bing.com).</span><span class="sxs-lookup"><span data-stu-id="ca667-109">**Organization level** – When you add a vertical at the organization level, it appears on the search results page when users search from their [SharePoint](https://sharepoint.com/) start page, on [Office](https://office.com), or on [Bing](https://bing.com).</span></span>
- <span data-ttu-id="ca667-110">**Livello di** sito: ad esempio, è possibile consentire ai dipendenti del servizio clienti di cercare eventi imprevisti di *gravità 1* direttamente dal sito SharePoint del loro reparto.</span><span class="sxs-lookup"><span data-stu-id="ca667-110">**Site level** – For example, you might want to enable your customer service employees to search for *Severity 1* incidents directly from their department’s SharePoint site.</span></span>

## <a name="search-verticals-explained"></a><span data-ttu-id="ca667-111">Verticali di ricerca spiegati</span><span class="sxs-lookup"><span data-stu-id="ca667-111">Search verticals explained</span></span>

<span data-ttu-id="ca667-112">Nella parte superiore della pagina Microsoft Search risultati è presente una riga di schede.</span><span class="sxs-lookup"><span data-stu-id="ca667-112">At the top of the Microsoft Search results page, there's a row of tabs.</span></span> <span data-ttu-id="ca667-113">Questi sono i verticali di ricerca.</span><span class="sxs-lookup"><span data-stu-id="ca667-113">These are the search verticals.</span></span> <span data-ttu-id="ca667-114">Un verticale di ricerca mostra solo i risultati di un determinato tipo o di determinati contenuti.</span><span class="sxs-lookup"><span data-stu-id="ca667-114">A search vertical only shows results of a certain type or from certain content.</span></span> <span data-ttu-id="ca667-115">Esempi sono **File** o **Notizie.**</span><span class="sxs-lookup"><span data-stu-id="ca667-115">Examples are **Files** or **News**.</span></span> <span data-ttu-id="ca667-116">Per impostazione predefinita, Microsoft Search i verticali **All,** **People,** **Files,** **Sites** e **News.**</span><span class="sxs-lookup"><span data-stu-id="ca667-116">By default, Microsoft Search shows the verticals **All**, **People**, **Files**, **Sites**, and **News**.</span></span>  

<span data-ttu-id="ca667-117">È possibile aggiungere verticali di ricerca rilevanti per l'organizzazione.</span><span class="sxs-lookup"><span data-stu-id="ca667-117">You can add search verticals that are relevant to your organization.</span></span> <span data-ttu-id="ca667-118">Questi elementi verranno visualizzati nella pagina Microsoft Search risultati [SharePoint](https://sharepoint.com/), [Office](https://Office.com)e [Bing](https://bing.com).</span><span class="sxs-lookup"><span data-stu-id="ca667-118">These will appear on the Microsoft Search results page in [SharePoint](https://sharepoint.com/), [Office](https://Office.com), and [Bing](https://bing.com).</span></span> <span data-ttu-id="ca667-119">Ad esempio, è possibile creare un verticale per il contenuto correlato al marketing e un altro per le vendite, in base al tipo di informazioni necessarie per ogni gruppo.</span><span class="sxs-lookup"><span data-stu-id="ca667-119">For example, you could create a vertical for marketing-related content and another for sales, based on the type of information that each group needs.</span></span> <span data-ttu-id="ca667-120">È possibile aggiungere verticali per visualizzare i risultati solo dal contenuto indicizzato tramite connettori.</span><span class="sxs-lookup"><span data-stu-id="ca667-120">You can add verticals to show results only from content indexed via connectors.</span></span>  

### <a name="multiple-connections-in-a-vertical"></a><span data-ttu-id="ca667-121">Più connessioni in verticale</span><span class="sxs-lookup"><span data-stu-id="ca667-121">Multiple connections in a vertical</span></span>

<span data-ttu-id="ca667-122">Un verticale di ricerca può ora visualizzare i risultati da più origini connettore.</span><span class="sxs-lookup"><span data-stu-id="ca667-122">A search vertical can now surface results from multiple connector sources.</span></span> <span data-ttu-id="ca667-123">In questo modo si garantisce una maggiore flessibilità nella progettazione della pagina dei risultati di ricerca.</span><span class="sxs-lookup"><span data-stu-id="ca667-123">This provides greater flexibility in designing your search result page.</span></span> <span data-ttu-id="ca667-124">L'esperienza amministrativa esistente della configurazione verticale consente di selezionare più connessioni nel passaggio "Origine contenuto".</span><span class="sxs-lookup"><span data-stu-id="ca667-124">The existing administrative experience of vertical setup allows you to select multiple connections in the "Content Source" step.</span></span>
<span data-ttu-id="ca667-125">Se nomini in modo accurato il maggior numero possibile di etichette semantiche, questa esperienza sarà migliorata.</span><span class="sxs-lookup"><span data-stu-id="ca667-125">If you accurately appoint as many semantic labels as possible, this experience will be enhanced.</span></span> <span data-ttu-id="ca667-126">È possibile aggiungere etichette semantiche al momento della definizione e dell'inserimento dello schema.</span><span class="sxs-lookup"><span data-stu-id="ca667-126">You can add semantic labels upon schema definition and ingestion.</span></span>

<span data-ttu-id="ca667-127">[Ecco](configure-connector.md#step-5-assign-property-labels) altre informazioni su come creare e gestire le etichette semantiche.</span><span class="sxs-lookup"><span data-stu-id="ca667-127">[Here](configure-connector.md#step-5-assign-property-labels) is additional information on how to create and manage semantic labels.</span></span>

> [!NOTE]
> <span data-ttu-id="ca667-128">Più connessioni in un verticale sono attualmente in anteprima.</span><span class="sxs-lookup"><span data-stu-id="ca667-128">Multiple connections in a vertical is currently in preview.</span></span> <span data-ttu-id="ca667-129">Per ulteriori informazioni sull'anteprima, vedere [Funzionalità di anteprima dei connettori.](connectors-overview.md#what-are-the-preview-features)</span><span class="sxs-lookup"><span data-stu-id="ca667-129">For more information about preview, see [Connectors preview features](connectors-overview.md#what-are-the-preview-features).</span></span>

### <a name="things-you-should-know"></a><span data-ttu-id="ca667-130">Aspetti da conoscere</span><span class="sxs-lookup"><span data-stu-id="ca667-130">Things you should know</span></span>

1. <span data-ttu-id="ca667-131">Una connessione può essere aggiunta come origine contenuto solo in un verticale.</span><span class="sxs-lookup"><span data-stu-id="ca667-131">A connection can be added as a content source only under one vertical.</span></span> <span data-ttu-id="ca667-132">Il riutilizzo delle connessioni in più verticali non è consentito.</span><span class="sxs-lookup"><span data-stu-id="ca667-132">Reusing connections under multiple verticals is not allowed.</span></span>
2. <span data-ttu-id="ca667-133">Se è necessario impostare una query per un verticale di ricerca in cui sono state aggiunte più origini di connessione, è necessario utilizzare proprietà di origine comuni per creare una query di questo tipo.</span><span class="sxs-lookup"><span data-stu-id="ca667-133">If you need to set up a query for a search vertical where multiple connection sources have been added, common source properties should be used to create a such a query.</span></span>

## <a name="things-to-consider"></a><span data-ttu-id="ca667-134">Osservazioni</span><span class="sxs-lookup"><span data-stu-id="ca667-134">Things to consider</span></span>

<span data-ttu-id="ca667-135">Prima di iniziare, verificare che il connettore sia stato indicizzato.</span><span class="sxs-lookup"><span data-stu-id="ca667-135">Before you start, make sure that the connector has been indexed.</span></span> <span data-ttu-id="ca667-136">Questa operazione può richiedere fino a 48 ore, a seconda delle dimensioni del file.</span><span class="sxs-lookup"><span data-stu-id="ca667-136">This can take up to 48 hours, depending on the file size.</span></span>

<span data-ttu-id="ca667-137">Non è possibile creare un verticale per il contenuto che si trova in [SharePoint](https://sharepoint.com/).</span><span class="sxs-lookup"><span data-stu-id="ca667-137">You can’t create a vertical for content that resides in [SharePoint](https://sharepoint.com/).</span></span>

<span data-ttu-id="ca667-138">Per aggiungere un verticale, è necessario eseguire tre passaggi di base:</span><span class="sxs-lookup"><span data-stu-id="ca667-138">There are three basic steps to add a vertical:</span></span>

1. <span data-ttu-id="ca667-139">Creare il verticale.</span><span class="sxs-lookup"><span data-stu-id="ca667-139">Create the vertical.</span></span> <span data-ttu-id="ca667-140">In questo passaggio viene definito il nome, l'origine di contenuto e l'ambito del contenuto in cui eseguire la ricerca.</span><span class="sxs-lookup"><span data-stu-id="ca667-140">In this step, you define the vertical’s name, content source, and scope of the content to search.</span></span>
2. <span data-ttu-id="ca667-141">Definire l'aspetto dei risultati per questo verticale.</span><span class="sxs-lookup"><span data-stu-id="ca667-141">Define what the results for this vertical will look like.</span></span>  
3. <span data-ttu-id="ca667-142">Abilita il verticale (da visualizzare) dalla pagina elenco verticale.</span><span class="sxs-lookup"><span data-stu-id="ca667-142">Enable the vertical (to be displayed) from the vertical list page.</span></span>

## <a name="step-1-create-the-search-vertical"></a><span data-ttu-id="ca667-143">PASSAGGIO 1: Creare il verticale di ricerca</span><span class="sxs-lookup"><span data-stu-id="ca667-143">STEP 1: Create the search vertical</span></span>

<span data-ttu-id="ca667-144">Dopo aver avviato la procedura guidata, vengono descritti i passaggi per definire il nome, l'origine di contenuto e l'ambito del contenuto verticale in cui eseguire la ricerca.</span><span class="sxs-lookup"><span data-stu-id="ca667-144">After you start the wizard, you're guided through the steps to define the vertical's name, content source, and scope of the content to search.</span></span> <span data-ttu-id="ca667-145">Il verticale viene creato in uno stato disabilitato.</span><span class="sxs-lookup"><span data-stu-id="ca667-145">The vertical is created in a disabled state.</span></span> <span data-ttu-id="ca667-146">Lo abiliterai in un secondo momento.</span><span class="sxs-lookup"><span data-stu-id="ca667-146">You'll enable it later.</span></span>

<span data-ttu-id="ca667-147">È possibile utilizzare un set limitato di linguaggio [KQL (Keyword Query Language)](/sharepoint/dev/general-development/keyword-query-language-kql-syntax-reference) per restringere l'ambito.</span><span class="sxs-lookup"><span data-stu-id="ca667-147">You can use a limited set of [Keyword Query Language (KQL)](/sharepoint/dev/general-development/keyword-query-language-kql-syntax-reference) to narrow the scope.</span></span> <span data-ttu-id="ca667-148">In questa pagina sono elencate le proprietà disponibili.</span><span class="sxs-lookup"><span data-stu-id="ca667-148">This page lists the properties that are available.</span></span> <span data-ttu-id="ca667-149">Ti consigliamo di usare parole chiave a testo libero e restrizioni di proprietà con operatori booleani per la creazione di KQL.</span><span class="sxs-lookup"><span data-stu-id="ca667-149">We recommend that you use free-text keywords and property restrictions with boolean operators for creating the KQL.</span></span>
<span data-ttu-id="ca667-150">KQL supporta inoltre l'uso di variabili [di query](#profile-query-variables) di profilo per ottimizzare i risultati sotto il verticale.</span><span class="sxs-lookup"><span data-stu-id="ca667-150">KQL also supports the use of [profile query variables](#profile-query-variables) to fine-tune results under the vertical.</span></span>

### <a name="create-a-vertical-at-the-organization-level"></a><span data-ttu-id="ca667-151">Creare un verticale a livello di organizzazione</span><span class="sxs-lookup"><span data-stu-id="ca667-151">Create a vertical at the organization level</span></span>

<span data-ttu-id="ca667-152">Per creare il verticale Microsoft Search in [SharePoint](https://sharepoint.com/) home, [Office](https://office.com)o Bing , [attenersi](https://bing.com)alla seguente procedura:</span><span class="sxs-lookup"><span data-stu-id="ca667-152">To create the vertical on Microsoft Search in [SharePoint](https://sharepoint.com/) home, [Office](https://office.com), or [Bing](https://bing.com), follow these steps:</span></span>

1. <span data-ttu-id="ca667-153">Nella finestra [interfaccia di amministrazione di Microsoft 365](https://admin.microsoft.com), andare a [**Verticali**](https://admin.microsoft.com/Adminportal/Home#/MicrosoftSearch/verticals).</span><span class="sxs-lookup"><span data-stu-id="ca667-153">In the [Microsoft 365 admin center](https://admin.microsoft.com), go to [**Verticals**](https://admin.microsoft.com/Adminportal/Home#/MicrosoftSearch/verticals).</span></span>
2. <span data-ttu-id="ca667-154">Seleziona **Aggiungi** per iniziare.</span><span class="sxs-lookup"><span data-stu-id="ca667-154">Select **Add** to get started.</span></span>  

### <a name="create-a-vertical-at-the-site-level"></a><span data-ttu-id="ca667-155">Creare un verticale a livello di sito</span><span class="sxs-lookup"><span data-stu-id="ca667-155">Create a vertical at the site level</span></span>

1. <span data-ttu-id="ca667-156">Nel sito [SharePoint](https://sharepoint.com/) in cui si desidera visualizzare il verticale, passare a **Impostazioni**.</span><span class="sxs-lookup"><span data-stu-id="ca667-156">On the [SharePoint](https://sharepoint.com/) site where you want the vertical, go to **Settings**.</span></span>
2. <span data-ttu-id="ca667-157">Selezionare **Informazioni sito** e quindi Visualizza tutte le impostazioni del **sito.**</span><span class="sxs-lookup"><span data-stu-id="ca667-157">Select **Site information** and then **View all site settings**.</span></span>
3. <span data-ttu-id="ca667-158">Cercare la sezione **Microsoft Search** e quindi selezionare Configura Microsoft Search **per questa raccolta siti.**</span><span class="sxs-lookup"><span data-stu-id="ca667-158">Look for the **Microsoft Search** section, and then select **Configure Microsoft Search for this site collection**.</span></span>
4. <span data-ttu-id="ca667-159">Nel riquadro di spostamento passare a **Esperienza personalizzata** e quindi selezionare la **scheda** Verticali.</span><span class="sxs-lookup"><span data-stu-id="ca667-159">In the navigation pane, go to **Custom experience**, and then select the **Verticals** tab.</span></span>
5. <span data-ttu-id="ca667-160">Per aggiungere una verticale, selezionare **Aggiungi**.</span><span class="sxs-lookup"><span data-stu-id="ca667-160">To add a vertical, select **Add**.</span></span>
  <span data-ttu-id="ca667-161">In caso contrario, per modificare un verticale, selezionarlo nell'elenco.</span><span class="sxs-lookup"><span data-stu-id="ca667-161">Or, to edit a vertical, select it in the list.</span></span>

<span data-ttu-id="ca667-162">Tenere presente che i verticali vengono creati in uno stato disabilitato.</span><span class="sxs-lookup"><span data-stu-id="ca667-162">Remember, verticals are created in a disabled state.</span></span> <span data-ttu-id="ca667-163">Devono essere abilitati prima che gli utenti possano vederli.</span><span class="sxs-lookup"><span data-stu-id="ca667-163">They must be enabled before users can see them.</span></span>

## <a name="step-2-create-the-result-types"></a><span data-ttu-id="ca667-164">PASSAGGIO 2: Creare i tipi di risultati</span><span class="sxs-lookup"><span data-stu-id="ca667-164">STEP 2: Create the result types</span></span>

<span data-ttu-id="ca667-165">Puoi definire la modalità di visualizzazione dei risultati nel verticale progettando il layout usando i tipi di risultati.</span><span class="sxs-lookup"><span data-stu-id="ca667-165">You can define how results are displayed in the vertical by designing the layout using result types.</span></span> <span data-ttu-id="ca667-166">Il layout dei risultati ti consente di mostrare informazioni importanti direttamente nei risultati della ricerca, in modo che gli utenti non devono selezionare ogni risultato per vedere se hanno trovato quello che stanno cercando.</span><span class="sxs-lookup"><span data-stu-id="ca667-166">The result layout lets you show important information directly in the search results, so users don't have to select each result to see if they found what they're looking for.</span></span>

### <a name="default-search-result-layout"></a><span data-ttu-id="ca667-167">Layout dei risultati di ricerca predefinito</span><span class="sxs-lookup"><span data-stu-id="ca667-167">Default search result layout</span></span>

<span data-ttu-id="ca667-168">Se le etichette e la proprietà  del  contenuto sono state mappate correttamente alle proprietà di origine al momento della configurazione del connettore, verrà visualizzato un layout dei risultati di ricerca predefinito per il contenuto del connettore.</span><span class="sxs-lookup"><span data-stu-id="ca667-168">A default search result layout will be shown for Connector content if **labels** and **content** property have been mapped correctly to the source properties at the time of configuring the connector.</span></span> <span data-ttu-id="ca667-169">Il titolo **dell'etichetta** è l'etichetta più importante.</span><span class="sxs-lookup"><span data-stu-id="ca667-169">The label **title** is the most important label.</span></span> <span data-ttu-id="ca667-170">È **consigliabile assegnare** una proprietà a questa etichetta per utilizzare il layout dei risultati di ricerca predefinito.</span><span class="sxs-lookup"><span data-stu-id="ca667-170">It is **strongly recommended** that you have a property assigned to this label to use default search result layout.</span></span>

### <a name="create-your-own-result-type"></a><span data-ttu-id="ca667-171">Creare un tipo di risultato personalizzato</span><span class="sxs-lookup"><span data-stu-id="ca667-171">Create your own result type</span></span>

<span data-ttu-id="ca667-172">È possibile decidere di creare un layout dei risultati di ricerca personalizzato ed eseguire l'override del layout dei risultati di ricerca predefinito creando un **tipo di risultato**.</span><span class="sxs-lookup"><span data-stu-id="ca667-172">You can decide to create your own search result layout and override the default search result layout by creating a **result type**.</span></span> <span data-ttu-id="ca667-173">Un tipo di risultati di ricerca è una regola che determina la visualizzazione di tipi di risultati di ricerca diversi in modi differenti.</span><span class="sxs-lookup"><span data-stu-id="ca667-173">A search result type is a rule that causes distinct kinds of search results to be displayed in different ways.</span></span> <span data-ttu-id="ca667-174">È costituito dai seguenti elementi:</span><span class="sxs-lookup"><span data-stu-id="ca667-174">It consists of the following:</span></span>

- <span data-ttu-id="ca667-175">**Una o più condizioni con** cui confrontare ogni risultato della ricerca, ad esempio l'origine contenuto del risultato della ricerca.</span><span class="sxs-lookup"><span data-stu-id="ca667-175">**One or more conditions** to compare each search result against, such as the content source of the search result.</span></span>  
- <span data-ttu-id="ca667-176">Layout **dei risultati da** utilizzare per i risultati della ricerca che soddisfano le condizioni.</span><span class="sxs-lookup"><span data-stu-id="ca667-176">A **result layout** to use for search results that meet the conditions.</span></span> <span data-ttu-id="ca667-177">Il layout risultante controlla il modo in cui tutti i risultati che soddisfano le condizioni vengono visualizzati e si comportano in una pagina dei risultati di ricerca.</span><span class="sxs-lookup"><span data-stu-id="ca667-177">The resulting layout controls the way that all results that meet the conditions appear and behave on a search results page.</span></span>

<span data-ttu-id="ca667-178">**Se non viene eseguito un mapping appropriato per visualizzare il layout dei risultati di ricerca predefinito, è necessario creare almeno un tipo di risultato per la visualizzazione dei risultati sul verticale.**</span><span class="sxs-lookup"><span data-stu-id="ca667-178">**If appropriate mapping is not done to show default search result layout, You must create at least one result type for results to display on the vertical.**</span></span> <span data-ttu-id="ca667-179">È possibile creare più tipi di risultati per ogni verticale, che consente di utilizzare layout diversi per diversi tipi di risultati.</span><span class="sxs-lookup"><span data-stu-id="ca667-179">You can create multiple result types for each vertical, which allows you to use different layouts for different type of results.</span></span> <span data-ttu-id="ca667-180">Ad esempio, è possibile personalizzare gli eventi imprevisti di *gravità 1* in modo da avere colori più prominenti e un tipo di carattere più grande rispetto agli eventi imprevisti *di gravità 3.*</span><span class="sxs-lookup"><span data-stu-id="ca667-180">For example, you can customize *Severity 1* incidents to have more prominent colors and a larger font compared to *Severity 3* incidents.</span></span>

<span data-ttu-id="ca667-181">Dopo aver avviato la procedura guidata, vengono descritti i passaggi per definire il nome, l'origine di contenuto e le condizioni per il tipo di risultato.</span><span class="sxs-lookup"><span data-stu-id="ca667-181">After you start the wizard, you're guided through the steps to define the name, content source, and conditions for the result type.</span></span> <span data-ttu-id="ca667-182">È possibile definire la priorità del tipo di risultato dalla visualizzazione elenco.</span><span class="sxs-lookup"><span data-stu-id="ca667-182">You can define the priority of the result type from the list view.</span></span>
  
### <a name="create-a-result-type-at-the-organization-level"></a><span data-ttu-id="ca667-183">Creare un tipo di risultato a livello di organizzazione</span><span class="sxs-lookup"><span data-stu-id="ca667-183">Create a result type at the organization level</span></span>

1. <span data-ttu-id="ca667-184">Nella finestra [interfaccia di amministrazione di Microsoft 365](https://admin.microsoft.com), passare a [**Tipi di risultati**](https://admin.microsoft.com/Adminportal/Home#/MicrosoftSearch/resulttypes).</span><span class="sxs-lookup"><span data-stu-id="ca667-184">In the [Microsoft 365 admin center](https://admin.microsoft.com), go to [**Result types**](https://admin.microsoft.com/Adminportal/Home#/MicrosoftSearch/resulttypes).</span></span>
2. <span data-ttu-id="ca667-185">Per aggiungere un **tipo di risultato,** selezionare **Aggiungi**.</span><span class="sxs-lookup"><span data-stu-id="ca667-185">To add a **Result type**, select **Add**.</span></span> <span data-ttu-id="ca667-186">Per modificare un tipo di risultato, selezionare il tipo di risultato nell'elenco pertinente.</span><span class="sxs-lookup"><span data-stu-id="ca667-186">To edit a result type, select the result type in the relevant list.</span></span>

### <a name="create-a-results-type-at-the-site-level"></a><span data-ttu-id="ca667-187">Creare un tipo di risultati a livello di sito</span><span class="sxs-lookup"><span data-stu-id="ca667-187">Create a results type at the site level</span></span>

1. <span data-ttu-id="ca667-188">Nel sito [SharePoint](https://sharepoint.com/) in cui si desidera creare il tipo di risultato, passare a **Impostazioni**.</span><span class="sxs-lookup"><span data-stu-id="ca667-188">On the [SharePoint](https://sharepoint.com/) site where you want to create the result type, go to **Settings**.</span></span>
2. <span data-ttu-id="ca667-189">Selezionare **Informazioni sito** e quindi Visualizza tutte le impostazioni del **sito.**</span><span class="sxs-lookup"><span data-stu-id="ca667-189">Select **Site information** and then **View all site settings**.</span></span>
3. <span data-ttu-id="ca667-190">Cercare la sezione Microsoft Search e quindi selezionare Configura Microsoft Search **per questa raccolta siti.**</span><span class="sxs-lookup"><span data-stu-id="ca667-190">Look for the Microsoft Search section, and then select **Configure Microsoft Search for this site collection**.</span></span>
4. <span data-ttu-id="ca667-191">Nel riquadro di spostamento passare a **Esperienza personalizzata** e selezionare scheda **Tipo di** risultato.</span><span class="sxs-lookup"><span data-stu-id="ca667-191">In the navigation pane, go to **Custom experience**, and select **Result type** tab.</span></span>
5. <span data-ttu-id="ca667-192">Per aggiungere un tipo di risultato, selezionare **Aggiungi**.</span><span class="sxs-lookup"><span data-stu-id="ca667-192">To add a result type, select **Add**.</span></span>  <span data-ttu-id="ca667-193">In caso contrario, per modificare un tipo di risultato, selezionare il tipo di risultato nell'elenco.</span><span class="sxs-lookup"><span data-stu-id="ca667-193">Or, to edit a result type, select the result type in the list.</span></span>

## <a name="step-3-view-the-vertical-after-its-enabled"></a><span data-ttu-id="ca667-194">PASSAGGIO 3: Visualizzare il verticale dopo che è stato abilitato</span><span class="sxs-lookup"><span data-stu-id="ca667-194">STEP 3: View the vertical after it's enabled</span></span>

<span data-ttu-id="ca667-195">Dopo aver abilitato il verticale, saranno necessario alcune ore prima di poterlo visualizzare.</span><span class="sxs-lookup"><span data-stu-id="ca667-195">After you enable the vertical, it will take a few hours before you can view it.</span></span> <span data-ttu-id="ca667-196">Se non si desidera attendere dopo l'abilitazione, è possibile aggiungere **cacheClear=true** all'URL in [SharePoint](https://sharepoint.com/) e [Office](https://office.com) visualizzare immediatamente il verticale.</span><span class="sxs-lookup"><span data-stu-id="ca667-196">If you don't want to wait after enabling it, you can append **cacheClear=true** to the URL in [SharePoint](https://sharepoint.com/) and [Office](https://office.com) to view the vertical immediately.</span></span> <span data-ttu-id="ca667-197">Ad [Bing](https://bing.com), aggiungi **&features=uncachedVerticals** all'URL verticale di lavoro per visualizzare immediatamente i verticali.</span><span class="sxs-lookup"><span data-stu-id="ca667-197">For [Bing](https://bing.com), append **&features=uncachedVerticals** to the Work vertical URL to view the verticals immediately.</span></span>

> [!NOTE]
> <span data-ttu-id="ca667-198">I verticali aggiunti non saranno visibili SharePoint [e](https://sharepoint.com/) [Office](https://office.com) visualizzati dai Web browser per dispositivi mobili.</span><span class="sxs-lookup"><span data-stu-id="ca667-198">Added verticals will not be visible on [SharePoint](https://sharepoint.com/) and [Office](https://office.com) when viewed from mobile web browsers.</span></span>

## <a name="profile-query-variables"></a><span data-ttu-id="ca667-199">Variabili di query dei profili</span><span class="sxs-lookup"><span data-stu-id="ca667-199">Profile query variables</span></span>

<span data-ttu-id="ca667-200">Le variabili di query vengono utilizzate nella sezione query KQL di un verticale per fornire dati dinamici come input per la query di un verticale.</span><span class="sxs-lookup"><span data-stu-id="ca667-200">Query variables are used in the KQL query section of a vertical to provide dynamic data as an input to the query of a vertical.</span></span> <span data-ttu-id="ca667-201">È possibile utilizzare variabili di query di profilo per rendere contestuali i risultati della ricerca all'utente connesso.</span><span class="sxs-lookup"><span data-stu-id="ca667-201">You can use profile query variables to make the search results contextual to the signed-in user.</span></span> <span data-ttu-id="ca667-202">Le variabili di query dei profili recuperano i valori dal profilo dell'utente [connesso.](/graph/api/resources/profile?view=graph-rest-beta)</span><span class="sxs-lookup"><span data-stu-id="ca667-202">Profile query variables fetch values from the signed-in user’s [profile](/graph/api/resources/profile?view=graph-rest-beta).</span></span>

<span data-ttu-id="ca667-203">Ad esempio, se si desidera creare un verticale "Ticket" in cui un utente connesso può cercare i ticket di supporto assegnati, è possibile specificare la query seguente nella sezione "Query" durante la creazione verticale nella pagina di amministrazione.</span><span class="sxs-lookup"><span data-stu-id="ca667-203">For example, if you want to create a “Tickets” vertical where a signed-in user can search for support tickets assigned to them, you can specify the following query under the "Query" section during the vertical creation in the administration page.</span></span>  

<span data-ttu-id="ca667-204">**AssignedTo:{Profile.accounts.userPrincipalName}**</span><span class="sxs-lookup"><span data-stu-id="ca667-204">**AssignedTo:{Profile.accounts.userPrincipalName}**</span></span>

<span data-ttu-id="ca667-205">In questo modo i risultati della ricerca verranno ristretti per visualizzare solo gli elementi in cui l'assegnatare è l'utente che esegue la ricerca.</span><span class="sxs-lookup"><span data-stu-id="ca667-205">This will narrow down the search results to show only those items where the assignee is the user performing the search.</span></span>

<span data-ttu-id="ca667-206">[La risorsa profilo](https://graph.microsoft.com/graph/api/resources/profile?view=graph-rest-beta) espone le proprietà come raccolte.</span><span class="sxs-lookup"><span data-stu-id="ca667-206">[Profile resource](https://graph.microsoft.com/graph/api/resources/profile?view=graph-rest-beta) exposes properties as collections.</span></span> <span data-ttu-id="ca667-207">Ad esempio, le informazioni relative agli indirizzi di posta elettronica vengono esposte tramite la raccolta di posta elettronica, le posizioni lavorative come raccolta posizioni e così via.</span><span class="sxs-lookup"><span data-stu-id="ca667-207">For example, information related to email addresses is exposed through email collection, work positions as positions collection, and so on.</span></span> <span data-ttu-id="ca667-208">Tutte le proprietà disponibili nel profilo utente, che hanno AAD come tipo di origine, vengono esposte come variabili di query.</span><span class="sxs-lookup"><span data-stu-id="ca667-208">All properties available in the user profile, which have AAD as the source type, are exposed as Query variables.</span></span>

<span data-ttu-id="ca667-209">Considera un utente che ha 3 indirizzi di posta elettronica disponibili nella raccolta di posta elettronica, come illustrato di seguito.</span><span class="sxs-lookup"><span data-stu-id="ca667-209">Consider a user who has 3 email addresses available in the email collection, as shown below.</span></span>

```json
"emails": [{ 

        "address": "Megan.Bowen@contoso.com",
        "id": "xyz", 
        "source": { 
            "CreatedBy": "xyz", 
            "CreatedOn": "2222", 
            "Type": "official" 
        },
        "type": "main" 
    }, { 
        "address": "meganb@hotmail.com",
        "id": "abc", 
        "source": { 
            "CreatedBy": "abc",
            "CreatedOn": "3333", 
            "Type": "non-official",
        },
        "type": "work"
    }, { 
        "address": "meganb@outlook.com",
        "id": "pqr", 
        "source": { 
            "CreatedBy": "pqr", 
            "CreatedOn": "4444", 
            "Type": "personal" 
        },
        "type": "personal" 
    } 
] 
```

- <span data-ttu-id="ca667-210">La query **MyProperty: {Profile.emails.address}** verrà risolta in MyProperty: "Megan.Bowen@contoso.com".</span><span class="sxs-lookup"><span data-stu-id="ca667-210">The query **MyProperty: {Profile.emails.address}** will resolve to MyProperty: “Megan.Bowen@contoso.com”.</span></span>  

- <span data-ttu-id="ca667-211">Se si desidera risolvere tutti i valori dell'attributo address, è necessario utilizzare la sintassi di espansione multivalore.</span><span class="sxs-lookup"><span data-stu-id="ca667-211">If you wish to resolve all the values of the address attribute, you have to use the multi-value expansion syntax.</span></span> <span data-ttu-id="ca667-212">La query **{| MyProperty:{Profile.emails.address}}** verrà risolto in ((MyProperty:"Megan.Bowen@contoso.com") OR (MyProperty: "meganb@hotmail.com") OR (MyProperty:"meganb@outlook.com"))</span><span class="sxs-lookup"><span data-stu-id="ca667-212">The query **{|MyProperty:{Profile.emails.address}}** will resolve to ((MyProperty:"Megan.Bowen@contoso.com") OR (MyProperty: "meganb@hotmail.com") OR (MyProperty:"meganb@outlook.com"))</span></span>  

<span data-ttu-id="ca667-213">L'operatore "|" deve essere utilizzato per la risoluzione delle variabili multivalore.</span><span class="sxs-lookup"><span data-stu-id="ca667-213">The “|” operator should be used for resolving multi-value variables.</span></span> <span data-ttu-id="ca667-214">Per altri esempi sull'espansione del profilo, fai riferimento alla tabella seguente.</span><span class="sxs-lookup"><span data-stu-id="ca667-214">For more examples on profile expansion refer to the table below.</span></span>

| #         | <span data-ttu-id="ca667-215">Sintassi</span><span class="sxs-lookup"><span data-stu-id="ca667-215">Syntax</span></span> |  <span data-ttu-id="ca667-216">Valore restituito</span><span class="sxs-lookup"><span data-stu-id="ca667-216">Value returned</span></span>  |
| --------- | ------ | --- |
| <span data-ttu-id="ca667-217">1 </span><span class="sxs-lookup"><span data-stu-id="ca667-217">1</span></span>    | <span data-ttu-id="ca667-218">MyProperty:{Profile.emails.address}</span><span class="sxs-lookup"><span data-stu-id="ca667-218">MyProperty:{Profile.emails.address}</span></span>  |   <span data-ttu-id="ca667-219">"Megan.Bowen@contoso.com"</span><span class="sxs-lookup"><span data-stu-id="ca667-219">"Megan.Bowen@contoso.com"</span></span>  |
| <span data-ttu-id="ca667-220">2 </span><span class="sxs-lookup"><span data-stu-id="ca667-220">2</span></span> | <span data-ttu-id="ca667-221">MyProperty:{Profile.emails}</span><span class="sxs-lookup"><span data-stu-id="ca667-221">MyProperty:{Profile.emails}</span></span>   |    <span data-ttu-id="ca667-222">{Profile.emails} Questa operazione non verrà risolta perché i messaggi di posta elettronica sono un oggetto.</span><span class="sxs-lookup"><span data-stu-id="ca667-222">{Profile.emails} This will not resolve because emails are an object.</span></span>|
| <span data-ttu-id="ca667-223">3 </span><span class="sxs-lookup"><span data-stu-id="ca667-223">3</span></span>    | <span data-ttu-id="ca667-224">{? MyProperty:{Profile.emails}}</span><span class="sxs-lookup"><span data-stu-id="ca667-224">{?MyProperty:{Profile.emails}}</span></span>  |  <span data-ttu-id="ca667-225">Questa operazione non verrà risolta perché i messaggi di posta elettronica sono un oggetto.</span><span class="sxs-lookup"><span data-stu-id="ca667-225">This will not resolve because emails is an object.</span></span> <span data-ttu-id="ca667-226">Il "?"</span><span class="sxs-lookup"><span data-stu-id="ca667-226">The “?”</span></span> <span data-ttu-id="ca667-227">l'operatore ignora le variabili di query che non vengono risolte.</span><span class="sxs-lookup"><span data-stu-id="ca667-227">operator ignores query variables that do not resolve.</span></span> <span data-ttu-id="ca667-228">Questa variabile verrà rimossa quando viene passata più avanti nello stack di query.</span><span class="sxs-lookup"><span data-stu-id="ca667-228">This variable will be removed when passed further down the query stack.</span></span>   |
| <span data-ttu-id="ca667-229">4 </span><span class="sxs-lookup"><span data-stu-id="ca667-229">4</span></span> | <span data-ttu-id="ca667-230">{&#124;MyProperty: {Profile.emails.source.Type}}</span><span class="sxs-lookup"><span data-stu-id="ca667-230">{&#124;MyProperty: {Profile.emails.source.Type}}</span></span>    |  <span data-ttu-id="ca667-231">((MyProperty:"official") OR (MyProperty:"non-official") OR (MyProperty:"personal"))</span><span class="sxs-lookup"><span data-stu-id="ca667-231">((MyProperty:"official") OR (MyProperty:"non-official") OR (MyProperty:"personal"))</span></span>    |

> [!NOTE]
>
> - <span data-ttu-id="ca667-232">Le variabili di query profilo sono supportate solo per verticali personalizzati che utilizzano [un connettore](connectors-overview.md) come origine di contenuto.</span><span class="sxs-lookup"><span data-stu-id="ca667-232">Profile query variables are only supported for custom verticals using a [connector](connectors-overview.md) as a content source.</span></span>
> - <span data-ttu-id="ca667-233">Le variabili di query dei profili sono definite nella sezione "Query" del [processo di configurazione verticale.](customize-search-page.md#step-1-create-the-search-vertical)</span><span class="sxs-lookup"><span data-stu-id="ca667-233">Profile query variables are defined on the “Query” section of the [vertical set up process](customize-search-page.md#step-1-create-the-search-vertical).</span></span>
> - <span data-ttu-id="ca667-234">Le variabili di query dei profili sono attualmente in anteprima.</span><span class="sxs-lookup"><span data-stu-id="ca667-234">Profile query variables is currently in preview.</span></span> <span data-ttu-id="ca667-235">Per ulteriori informazioni sull'anteprima, vedere [Funzionalità di anteprima dei connettori.](connectors-overview.md#what-are-the-preview-features)</span><span class="sxs-lookup"><span data-stu-id="ca667-235">For more information about preview, see [Connectors preview features](connectors-overview.md#what-are-the-preview-features).</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="ca667-236">Risoluzione dei problemi</span><span class="sxs-lookup"><span data-stu-id="ca667-236">Troubleshooting</span></span>

<span data-ttu-id="ca667-237">Ecco un elenco dei problemi comuni che potresti riscontrare e delle azioni per risolverli.</span><span class="sxs-lookup"><span data-stu-id="ca667-237">Here's a list of common issues you might encounter and actions to fix them.</span></span>

|<span data-ttu-id="ca667-238">Errore</span><span class="sxs-lookup"><span data-stu-id="ca667-238">Error</span></span>  |<span data-ttu-id="ca667-239">Azione</span><span class="sxs-lookup"><span data-stu-id="ca667-239">Action</span></span>  |
|---------|---------|
| <span data-ttu-id="ca667-240">Viene visualizzato un messaggio di errore "Si è verificato un problema" sulla verticale.</span><span class="sxs-lookup"><span data-stu-id="ca667-240">I see a "Something went wrong" error message on the vertical.</span></span> | <span data-ttu-id="ca667-241">Per completare l'installazione sono necessari sia i tipi verticali che i tipi di risultati.</span><span class="sxs-lookup"><span data-stu-id="ca667-241">Both the vertical and result types are needed to complete the setup.</span></span> <span data-ttu-id="ca667-242">Assicurarsi di aver creato entrambi per la stessa origine di contenuto.</span><span class="sxs-lookup"><span data-stu-id="ca667-242">Make sure you have created both for the same content source.</span></span> |
| <span data-ttu-id="ca667-243">Il layout dei risultati non è visualizzato, anche se ne è stato creato uno.</span><span class="sxs-lookup"><span data-stu-id="ca667-243">I don't see my result layout, although I created one.</span></span> | <span data-ttu-id="ca667-244">L'operazione richiede alcuni minuti perché queste impostazioni vengono in genere memorizzate nella cache.</span><span class="sxs-lookup"><span data-stu-id="ca667-244">It takes a few minutes because these settings are generally cached.</span></span> <span data-ttu-id="ca667-245">Attendere alcuni minuti e riprovare.</span><span class="sxs-lookup"><span data-stu-id="ca667-245">Wait for a few minutes and try again.</span></span>        |
| <span data-ttu-id="ca667-246">Non viene visualizzata alcuna origine di contenuto nella pagina del tipo di risultato o verticale.</span><span class="sxs-lookup"><span data-stu-id="ca667-246">I don't see any content sources on the vertical or result type page.</span></span> | <span data-ttu-id="ca667-247">Assicurarsi di aver configurato i connettori e i dati indicizzati.</span><span class="sxs-lookup"><span data-stu-id="ca667-247">Make sure you have configured connectors and indexed data.</span></span>   |

## <a name="next-steps"></a><span data-ttu-id="ca667-248">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="ca667-248">Next steps</span></span>

[<span data-ttu-id="ca667-249">Personalizzare il layout dei risultati</span><span class="sxs-lookup"><span data-stu-id="ca667-249">Customize the results layout</span></span>](customize-results-layout.md)
